!function(e){function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function c(e){fetch("src/sample-data.json").then(function(e){return e.json()}).then(function(e){return d.push.apply(d,o(e))}).catch(function(e){console.log("reject",e)})}function a(e){var n='\n      <li class="contacts-list__item" data-name="'+e.name+'">\n        <div class="contact-header" data-name="'+e.name+'" onclick="toggleOpenContact(event)">\n          <span>'+e.name+'</span>\n          <button class="remove-btn" data-name="'+e.name+'" onclick="removeContact(event)">\n            <i class="fa fa-trash-o fa-lg"></i>\n          </button>\n        </div>\n        <div class="card hidden">\n          <img src="src/img/'+e.image+'" alt="<img/>" />\n          <p>'+e.info+'</p>\n          <p>\n            <label for="tel"><i class="fa fa-phone"></i></label>\n            '+e.tel+'\n          </p>\n          <p>\n            <label for="tel"><i class="fa fa-paper-plane-o"></i></label>\n            '+e.telegram+"\n          </p>\n        </div>\n      </li>\n    ";f.innerHTML+=n}function r(){f.innerHTML="",s.forEach(function(e){return a(e)})}function l(e){e.preventDefault();var n=e.target,t=n.querySelector('[name="name"]').value,o=n.querySelector('[name="info"]').value,c=n.querySelector('[name="tel"]').value,a=n.querySelector('[name="telegram"]').value,r=n.querySelector('[name="image"]').value,l={name:t,info:o,tel:c,telegram:a,image:r};console.log("newContact:",l),s.set(l.name,l)}function i(){console.log(JSON.stringify(Array.from(s)));fetch("/contacts",{method:"POST",body:JSON.stringify(Array.from(s))}).then(function(e){return console.log(e)}).catch(function(e){console.log("reject",e)})}function u(){fetch("/contacts").then(function(e){return console.log(e)}).catch(function(e){console.log("reject",e)})}var s=new Map,d=[],f=document.querySelector(".contacts__contacts-list"),m=document.querySelector(".contacts__add-contact"),g=(document.querySelector(".contacts__search-box"),document.querySelector(".add-contact-btn")),p=document.querySelector(".pull-contacts-btn"),v=document.querySelector(".push-contacts-btn"),h=document.querySelector(".populate-list-btn");document.querySelector(".search-box-btn");window.removeContact=function(e){e.stopPropagation();var n=e.currentTarget.dataset.name;if(n.toLowerCase().includes("кадыров")){var t='Вы уверены, что хотите удалить "'+n+'" из списка контактов?';if(!confirm(t))return}s.delete(n);var o=document.querySelector('.contacts-list__item[data-name="'+n+'"]');console.log(o),f.removeChild(o)},window.toggleOpenContact=function(e){var n=e.currentTarget.dataset.name;document.querySelector('.contacts-list__item[data-name="'+n+'"] .card').classList.toggle("hidden"),console.log(s.get(n))},window.addEventListener("load",function(){c(s),r()}),h.addEventListener("click",function(){d.forEach(function(e){return s.set(e.name,e)}),r()}),g.addEventListener("click",function(){m.classList.toggle("hidden")}),p.addEventListener("click",u),v.addEventListener("click",i),m.addEventListener("submit",function(e){l(e),m.reset(),m.classList.toggle("hidden"),r()})}]);